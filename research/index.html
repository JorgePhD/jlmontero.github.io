<!DOCTYPE html>
<html lang="en">

  <!-- Head -->
  <head>    <!-- Metadata, OpenGraph and Schema.org -->
    

    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Research | Jorge Montero</title>
    <meta name="author" content="Jorge  Montero" />
    <meta name="description" content="" />


    <!-- Bootstrap & MDB -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous" />

    <!-- Bootstrap Table -->
    <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css">

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light" />

    

    <!-- Styles -->
    
    <link rel="shortcut icon" href="/assets/img/logo_jm.jpg"/>
    
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://jlmontero.github.io/research/">

    <!-- Dark Mode -->
    

  </head>

  <!-- Body -->
  <body class="fixed-top-nav ">

    <!-- Header -->
    <header>

      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
        <div class="container">
          <a class="navbar-brand title font-weight-lighter" href="/">Jorge Montero</a>
          <!-- Navbar Toggle -->
          <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

          <div class="collapse navbar-collapse text-right" id="navbarNav">
            <ul class="navbar-nav ml-auto flex-nowrap">

              <!-- About -->
              <li class="nav-item ">
                <a class="nav-link" href="/">About</a>
              </li>

              <!-- Other pages -->
              <li class="nav-item active">
                <a class="nav-link" href="/research/">Research<span class="sr-only">(current)</span></a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/cv/">Cv</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Scrolling Progress Bar -->
      <progress id="progress" value="0">
        <div class="progress-container">
          <span class="progress-bar"></span>
        </div>
      </progress>
    </header>


    <!-- Content -->
    <div class="container mt-5">
      
        <!-- page.html -->
        <div class="post">

          <header class="post-header">
            <!-- <h1 class="post-title">Research</h1> -->
            <h1 style="color: rgb(138, 36, 36); font-weight: normal;">Research</h1>
            <p class="post-description"></p>
          </header>

          <article>
            <h2 style="color: rgb(138, 36, 36); margin-top: 0em;">Working Papers</h2>

<div style="border: 1px solid #ccc; border-radius: 10px; padding: 16px; margin-bottom: 20px; background-color: #fafafa; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">

  <!-- Title and PDF -->
  <div style="display: flex; align-items: flex-start; justify-content: space-between; flex-wrap: wrap; gap: 10px;">
    <div>
      <div style="font-weight: bold; font-size: 16px;">Firms Believing Women Get Less Means They Do</div>
      <div style="margin-top: 4px; font-size: 14px;">
        (with <a href="https://nagisatadjfar.github.io/" style="color: rgb(138, 36, 36); text-decoration: none;">Nagisa Tadjfar</a>)
      </div>
    </div>
    <a href="/assets/papers/Lowballing.pdf" target="_blank" style="padding: 5px 12px; background-color: rgb(138, 36, 36); color: white; text-align: center; text-decoration: none; border-radius: 6px; font-size: 13px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
      PDF
    </a>
  </div>

  <!-- Abstract -->
  <details style="margin-top: 12px; border-top: 1px solid #ddd; padding-top: 10px;">
    <summary style="cursor: pointer; font-weight: 500; font-size: 14px; color: rgb(138, 36, 36);">Abstract</summary>
    <p style="margin-top: 10px; font-size: 14px; line-height: 1.5;">
    This paper examines an employer-driven mechanism behind the early-career gender earnings gap using novel data on MIT graduates’ job offers and negotiation process. We document three key findings. First, women receive lower initial compensation offers than men within an employer-occupation. Second, this gap is entirely concentrated in non-salary components—signing bonus and equity—with no gap in base salary. Third, we find no gender differences in job search, and women negotiate as frequently and successfully as men. These findings also generalize to a national sample of high-skill workers in a dataset from Levels.fyi. To understand these patterns, we develop a model showing that a small number of discriminatory firms leads <em>all firms</em> in the market to lowball women in equilibrium. This market-wide gender gap is sustained through outside offers and cannot be closed by changes in worker behavior. We validate this mechanism using an incentivized resume evaluation experiment with recruiters, where we find that firms expect <em>other firms</em> to offer women less. Our results highlight the role of firm behavior—rather than worker decisions alone—in perpetuating gender pay disparities.
    </p>
  </details>

</div>

<div style="border: 1px solid #ccc; border-radius: 10px; padding: 16px; margin-bottom: 20px; background-color: #fafafa; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">

  <!-- Title and PDF -->
  <div style="display: flex; align-items: flex-start; justify-content: space-between; flex-wrap: wrap; gap: 10px;">
    <div>
      <div style="font-weight: bold; font-size: 16px;">Social Media, Body Image, and Discrimination</div>
      <div style="margin-top: 4px; font-size: 14px;">
        (with <a href="https://econ.columbia.edu/econpeople/hannah-solheim/" style="color: rgb(138, 36, 36); text-decoration: none;">Hannah Solheim</a>)
      </div>
    </div>
  </div>
</div>

<div style="border: 1px solid #ccc; border-radius: 10px; padding: 16px; margin-bottom: 20px; background-color: #fafafa; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">

  <!-- Title and PDF -->
  <div style="display: flex; align-items: flex-start; justify-content: space-between; flex-wrap: wrap; gap: 10px;">
    <div>
      <div style="font-weight: bold; font-size: 16px;">The Effect of Confidence in Ability on Job Search Behavior</div>
      <div style="margin-top: 4px; font-size: 14px;">
        (with <a href="https://maximmassenkoff.com/" style="color: rgb(138, 36, 36); text-decoration: none;">Maxim Massenkoff</a> and <a href="https://nagisatadjfar.github.io/" style="color: rgb(138, 36, 36); text-decoration: none;">Nagisa Tadjfar</a>)
      </div>
    </div>
  </div>
</div>

<p><br /></p>

<h2 style="color: rgb(138, 36, 36); margin-top: 0em;">Publications</h2>

<!-- ## Publications -->

<div style="border: 1px solid #ccc; border-radius: 10px; padding: 16px; margin-bottom: 20px; background-color: #fafafa; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">

  <!-- Title and PDF in a single row -->
  <div style="display: flex; justify-content: space-between; align-items: flex-start; gap: 10px;">
    <div style="flex: 1; font-weight: bold; font-size: 16px;">
       Network-Based Assessment of Multi-Scale Resilience in the Water-Energy-Land-Food Nexus: A Case Study in the Colombian Caribbean
    </div>
    <a href="/assets/papers/ea4.pdf" target="_blank" style="white-space: nowrap; padding: 5px 12px; background-color: rgb(138, 36, 36); color: white; text-align: center; text-decoration: none; border-radius: 6px; font-size: 13px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
      PDF
    </a>
  </div>

  <!-- Coauthor and Journal -->
  <div style="margin-top: 6px; font-size: 14px;">
    (Okbay et al.)
  </div>
  <div style="margin-top: 4px; font-weight: 500; font-size: 13px; color: #555;">
    Nature Genetics, April 2022
  </div>

  <!-- Abstract -->
  <details style="margin-top: 12px; border-top: 1px solid #ddd; padding-top: 10px;">
    <summary style="cursor: pointer; font-weight: 500; font-size: 14px; color: rgb(138, 36, 36);">Abstract</summary>
    <p style="margin-top: 10px; font-size: 14px; line-height: 1.5;">
      We conduct a genome-wide association study (GWAS) of educational attainment (EA) in a sample of ~3 million individuals and identify 3,952 approximately uncorrelated genome-wide-significant single-nucleotide polymorphisms (SNPs). A genome-wide polygenic predictor, or polygenic index (PGI), explains 12-16% of EA variance and contributes to risk prediction for ten diseases. Direct effects (i.e., controlling for parental PGIs) explain roughly half the PGI’s magnitude of association with EA and other phenotypes. The correlation between mate-pair PGIs is far too large to be consistent with phenotypic assortment alone, implying additional assortment on PGI-associated factors. In an additional GWAS of dominance deviations from the additive model, we identify no genome-wide-significant SNPs, and a separate X-chromosome additive GWAS identifies 57. </p>
  </details>
</div>

<div style="border: 1px solid #ccc; border-radius: 10px; padding: 16px; margin-bottom: 20px; background-color: #fafafa; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">

  <!-- Title and PDF -->
  <div style="display: flex; align-items: flex-start; justify-content: space-between; flex-wrap: wrap; gap: 10px;">
    <div>
      <div style="font-weight: bold; font-size: 16px;">Problems with Using Polygenic Scores to Select Embryos</div>
      <div style="margin-top: 4px; font-size: 14px;">
        (Turley et al.)
      </div>
    </div>
    <a href="/assets/papers/esps.pdf" target="_blank" style="padding: 5px 12px; background-color: rgb(138, 36, 36); color: white; text-align: center; text-decoration: none; border-radius: 6px; font-size: 13px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
      PDF
    </a>
  </div>

  <!-- Coauthor and Journal -->
  <div style="margin-top: 4px; font-weight: 500; font-size: 13px; color: #555;">
    New England Journal of Medicine, July 2021
  </div>

  <!-- Abstract -->
  <details style="margin-top: 12px; border-top: 1px solid #ddd; padding-top: 10px;">
    <summary style="cursor: pointer; font-weight: 500; font-size: 14px; color: rgb(138, 36, 36);">Abstract</summary>
    <p style="margin-top: 10px; font-size: 14px; line-height: 1.5;">
      Companies have recently begun to sell a new service to patients considering in vitro fertilization: embryo selection based on polygenic scores (ESPS). These scores represent individualized predictions of health and other outcomes derived from genomewide association studies in adults to partially predict these outcomes. This article includes a discussion of many factors that lower the predictive power of polygenic scores in the context of embryo selection and quantifies these effects for a variety of clinical and nonclinical traits. Also discussed are potential unintended consequences of ESPS (including selecting for adverse traits, altering population demographics, exacerbating inequalities in society, and devaluing certain traits). Recommendations for the responsible communication about ESPS by practitioners are provided, and a call for a society-wide conversation about this technology is made. </p>
  </details>

  <!-- Selected Media Coverage -->
  <div style="margin-top: 16px;">
    <div style="font-weight: 500; font-size: 14px; margin-bottom: 6px;">Selected Media Coverage:
    <a href="https://www.bloomberg.com/news/articles/2021-09-17/picking-embryos-with-best-health-odds-sparks-new-dna-debate" target="_blank" style="color: rgb(138, 36, 36); text-decoration: none;">Bloomberg</a>,
    <a href="https://www.scientificamerican.com/article/a-new-era-of-designer-babies-may-be-based-on-overhyped-science/" target="_blank" style="color: rgb(138, 36, 36); text-decoration: none;">Scientific American</a>,
    <a href="https://www.usnews.com/news/health-news/articles/2021-07-01/gene-based-embryo-selection-are-designer-babies-on-the-horizon" target="_blank" style="color: rgb(138, 36, 36); text-decoration: none;">US News</a>
    </div>
  </div>
</div>

<div style="border: 1px solid #ccc; border-radius: 10px; padding: 16px; margin-bottom: 20px; background-color: #fafafa; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">

  <!-- Title and PDF -->
  <div style="display: flex; align-items: flex-start; justify-content: space-between; flex-wrap: wrap; gap: 10px;">
    <div>
      <div style="font-weight: bold; font-size: 16px;">Resource profile and user guide of the Polygenic Index Repository</div>
      <div style="margin-top: 4px; font-size: 14px;">
        (Becker et al.)
      </div>
    </div>
    <a href="/assets/papers/pgi_repo.pdf" target="_blank" style="padding: 5px 12px; background-color: rgb(138, 36, 36); color: white; text-align: center; text-decoration: none; border-radius: 6px; font-size: 13px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
      PDF
    </a>
  </div>

  <!-- Coauthor and Journal -->
  <div style="margin-top: 4px; font-weight: 500; font-size: 13px; color: #555;">
    Nature Human Behaviour, December 2021
  </div>

  <!-- Abstract -->
  <details style="margin-top: 12px; border-top: 1px solid #ddd; padding-top: 10px;">
    <summary style="cursor: pointer; font-weight: 500; font-size: 14px; color: rgb(138, 36, 36);">Abstract</summary>
    <p style="margin-top: 10px; font-size: 14px; line-height: 1.5;">
      Polygenic indexes (PGIs) are DNA-based predictors. Their value for research in many scientific disciplines is growing rapidly. As a resource for researchers, we used a consistent methodology to construct PGIs for 47 phenotypes in 11 datasets. To maximize the PGIs’ prediction accuracies, we constructed them using genome-wide association studies—some not previously published—from multiple data sources, including 23andMe and UK Biobank. We present a theoretical framework to help interpret analyses involving PGIs. A key insight is that a PGI can be understood as an unbiased but noisy measure of a latent variable we call the ‘additive SNP factor’. Regressions in which the true regressor is this factor but the PGI is used as its proxy therefore suffer from errors-in-variables bias. We derive an estimator that corrects for the bias, illustrate the correction, and make a Python tool for implementing it publicly available.
    </p>
  </details>
</div>

<div style="border: 1px solid #ccc; border-radius: 10px; padding: 16px; margin-bottom: 20px; background-color: #fafafa; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">

  <!-- Title and PDF -->
  <div style="display: flex; align-items: flex-start; justify-content: space-between; flex-wrap: wrap; gap: 10px;">
    <div>
      <div style="font-weight: bold; font-size: 16px;">3D‐printed gastric resident electronics</div>
      <div style="margin-top: 4px; font-size: 14px;">
        (Kong et al.)
      </div>
    </div>
    <a href="/assets/papers/gastric_resident_electronics.pdf" target="_blank" style="padding: 5px 12px; background-color: rgb(138, 36, 36); color: white; text-align: center; text-decoration: none; border-radius: 6px; font-size: 13px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
      PDF
    </a>
  </div>

  <!-- Coauthor and Journal -->
  <div style="margin-top: 4px; font-weight: 500; font-size: 13px; color: #555;">
    Advanced Materials Technologies, December 2018
  </div>

  <!-- Abstract -->
  <details style="margin-top: 12px; border-top: 1px solid #ddd; padding-top: 10px;">
    <summary style="cursor: pointer; font-weight: 500; font-size: 14px; color: rgb(138, 36, 36);">Abstract</summary>
    <p style="margin-top: 10px; font-size: 14px; line-height: 1.5;">
      Long-term implantation of biomedical electronics into the human body enables advanced diagnostic and therapeutic functionalities. However, most long-term resident electronics devices require invasive procedures for implantation as well as a specialized receiver for communication. Here, a gastric resident electronic (GRE) system that leverages the anatomical space offered by the gastric environment to enable residence of an orally delivered platform of such devices within the human body is presented. The GRE is capable of directly interfacing with portable consumer personal electronics through Bluetooth, a widely adopted wireless protocol. In contrast to the passive day-long gastric residence achieved with prior ingestible electronics, advancement in multimaterial prototyping enables the GRE to reside in the hostile gastric environment for a maximum of 36 d and maintain ≈15 d of wireless electronics communications as evidenced by the studies in a porcine model. Indeed, the synergistic integration of reconfigurable gastric-residence structure, drug release modules, and wireless electronics could ultimately enable the next-generation remote diagnostic and automated therapeutic strategies.
    </p>
  </details>
</div>

<p><br /></p>

<h2 style="color: rgb(138, 36, 36); margin-top: 0em;">Selected Works in Progress</h2>
<div style="border: 1px solid #ccc; border-radius: 10px; padding: 16px; margin-bottom: 20px; background-color: #fafafa; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">

  <!-- Title and PDF in a single row -->
  <div style="display: flex; justify-content: space-between; align-items: flex-start; gap: 10px;">
    <div style="flex: 1; font-weight: bold; font-size: 16px;">
      Does Conservation Influence Local Public Finances? Evidence from Colombian Municipalities.
    </div>
  </div>

<div style="border: 1px solid #ccc; border-radius: 10px; padding: 16px; margin-bottom: 20px; background-color: #fafafa; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
  <!-- Title and PDF in a single row -->
  <div style="display: flex; justify-content: space-between; align-items: flex-start; gap: 10px;">
    <div style="flex: 1; font-weight: bold; font-size: 16px;">
      MPA governance and fishing activity in Indonesia</div>
    <div style="margin-top: 4px; font-size: 14px;">
        (with <a href="https://andriesrichter.com/" style="color: rgb(138, 36, 36); text-decoration: none;">Andries Richter</a>, <a href="https://annabatayo.com/" style="color: rgb(138, 36, 36); text-decoration: none;">Anna Abatayo</a>)
      </div>
  </div>

<div style="border: 1px solid #ccc; border-radius: 10px; padding: 16px; margin-bottom: 20px; background-color: #fafafa; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
  <!-- Title and PDF in a single row -->
  <div style="display: flex; justify-content: space-between; align-items: flex-start; gap: 10px;">
    <div style="flex: 1; font-weight: bold; font-size: 16px;">
      Impacts of dams on freshwater fish diversity in amazon</div>
    <div style="margin-top: 4px; font-size: 14px;">
        (with <a href="https://sites.google.com/monash.edu/benjamin-chipperfield/home" style="color: rgb(138, 36, 36); text-decoration: none;">Benjamin Chipperfield</a>)
      </div>
  </div>

<div style="border: 1px solid #ccc; border-radius: 10px; padding: 16px; margin-bottom: 20px; background-color: #fafafa; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">

  <!-- Title and PDF in a single row -->
  <div style="display: flex; justify-content: space-between; align-items: flex-start; gap: 10px;">
    <div style="flex: 1; font-weight: bold; font-size: 16px;">
      Fishery bans and local development.
    </div>
  </div>

  
</div></div></div></div>

          </article></div>

      
    </div>

    <!-- Footer -->    
    <footer class="fixed-bottom">
      <div class="container mt-0">
        &copy; Copyright 2025 Jorge  Montero. 
      </div>
    </footer>

    <!-- JavaScripts -->
    <!-- jQuery -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- Bootsrap & MDB scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>

    <!-- Masonry & imagesLoaded -->
  <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script defer src="/assets/js/masonry.js" type="text/javascript"></script>
    
  <!-- Medium Zoom JS -->
  <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script>
  <script defer src="/assets/js/zoom.js"></script>

  <!-- Bootstrap Table -->
  <script defer src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script>

  <!-- Load Common JS -->
  <script src="/assets/js/no_defer.js"></script>
  <script defer src="/assets/js/common.js"></script>
  <script defer src="/assets/js/copy_code.js" type="text/javascript"></script>

    

    <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        tags: 'ams'
      }
    };
  </script>
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-9KMY3JGTXG"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ window.dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-9KMY3JGTXG');
  </script>
    

<!-- Scrolling Progress Bar -->
<script type="text/javascript">
  /*
   * This JavaScript code has been adapted from the article 
   * https://css-tricks.com/reading-position-indicator/ authored by Pankaj Parashar, 
   * published on the website https://css-tricks.com on the 7th of May, 2014.
   * Couple of changes were made to the original code to make it compatible 
   * with the `al-foio` theme.
   */
  const progressBar = $("#progress");
  /*
   * We set up the bar after all elements are done loading.
   * In some cases, if the images in the page are larger than the intended
   * size they'll have on the page, they'll be resized via CSS to accomodate
   * the desired size. This mistake, however, breaks the computations as the
   * scroll size is computed as soon as the elements finish loading.
   * To account for this, a minimal delay was introduced before computing the
   * values.
   */
  window.onload = function () {
    setTimeout(progressBarSetup, 50);
  };
  /*
   * We set up the bar according to the browser.
   * If the browser supports the progress element we use that.
   * Otherwise, we resize the bar thru CSS styling
   */
  function progressBarSetup() {
    if ("max" in document.createElement("progress")) {
      initializeProgressElement();
      $(document).on("scroll", function() {
        progressBar.attr({ value: getCurrentScrollPosition() });
      });
      $(window).on("resize", initializeProgressElement);
    } else {
      resizeProgressBar();
      $(document).on("scroll", resizeProgressBar);
      $(window).on("resize", resizeProgressBar);
    }
  }
  /*
   * The vertical scroll position is the same as the number of pixels that
   * are hidden from view above the scrollable area. Thus, a value > 0 is
   * how much the user has scrolled from the top
   */
  function getCurrentScrollPosition() {
    return $(window).scrollTop();
  }

  function initializeProgressElement() {
    let navbarHeight = $("#navbar").outerHeight(true);
    $("body").css({ "padding-top": navbarHeight });
    $("progress-container").css({ "padding-top": navbarHeight });
    progressBar.css({ top: navbarHeight });
    progressBar.attr({
      max: getDistanceToScroll(),
      value: getCurrentScrollPosition(),
    });
  }
  /*
   * The offset between the html document height and the browser viewport
   * height will be greater than zero if vertical scroll is possible.
   * This is the distance the user can scroll
   */
  function getDistanceToScroll() {
    return $(document).height() - $(window).height();
  }

  function resizeProgressBar() {
    progressBar.css({ width: getWidthPercentage() + "%" });
  }
  // The scroll ratio equals the percentage to resize the bar
  function getWidthPercentage() {
    return (getCurrentScrollPosition() / getDistanceToScroll()) * 100;
  }
</script>

  </body>
</html>
